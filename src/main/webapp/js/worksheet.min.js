$(function(){$(".row").height("100%");drake=dragula({isContainer:function(b){return b.classList.contains("droppable")},revertOnSpill:true,accepts:function(c,e,d,b){return !e.classList.contains("full")||e.id=="wordbank-container"}});drake.on("drop",function(e,d,c,b){c.className=c.className.replace(/\bfull\b/,"");d.className+=" full"});for(var a=0;a<document.getElementsByClassName("cell").length;a++){document.getElementsByClassName("cell")[a].innerHTML=document.getElementsByClassName("cell")[a].innerHTML.replace(/�/g,"")}for(var a=0;a<document.getElementsByClassName("well").length;a++){document.getElementsByClassName("well")[a].innerHTML=document.getElementsByClassName("well")[a].innerHTML.replace(/�/g,"")}});function submitWorksheet(){var b=get2DArray("worksheet-table");if(!incompleteForm()){var a={email:userName,ws:b};if(!location.origin){location.origin=location.protocol+"//"+location.host}console.log($.toJSON(a));$.ajax({type:"POST",url:location.origin+"/grader",data:$.toJSON(a),success:function(c){if(c.success=="true"){window.location.replace(location.origin+"/?score="+c.score)}else{console.log(c);$("#submission-failure").modal("show")}}})}}function incompleteForm(){if($("#wordbank-container").find("div.well").length>0){$("#incomplete-worksheet").modal("show");return true}return false}function get2DArray(h){var g=[];var e=document.getElementById(h);for(var d=0,f;f=e.rows[d];d++){g.push([]);for(var c=0,a;a=f.cells[c];c++){if($(a).find("div").length>0){if($(a).find("div").length>1){g[d].push($(a).find("div")[0].id);for(var b=1;b<$(a).find("div").length;b++){g[d][c]+=","+$(a).find("div")[b].id}}else{g[d].push($(a).find("div")[0].id)}}else{if(a.id!=null){g[d].push(a.id)}else{g[d].push("")}}}}return g}$(function(){$("#info-popover").popover()});